define("/WEB-UED/fancy/dist/c/sui/sm-extend",[],function(require,exports,module){+function($){"use strict";var Swiper=function(container,params){function isH(){return"horizontal"===s.params.direction}function autoplay(){s.autoplayTimeoutId=setTimeout(function(){s.params.loop?(s.fixLoop(),s._slideNext()):s.isEnd?params.autoplayStopOnLast?s.stopAutoplay():s._slideTo(0):s._slideNext()},s.params.autoplay)}function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector))if("string"==typeof selector)el=el.parents(selector);else if(selector.nodeType){var found;return el.parents().each(function(index,_el){_el===selector&&(found=selector)}),found?selector:void 0}if(0!==el.length)return el[0]}function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||window.WebkitMutationObserver,observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(),s.emit("onObserverUpdate",s,mutation)})});observer.observe(target,{attributes:"undefined"==typeof options.attributes?!0:options.attributes,childList:"undefined"==typeof options.childList?!0:options.childList,characterData:"undefined"==typeof options.characterData?!0:options.characterData}),s.observers.push(observer)}function setParallaxTransform(el,progress){el=$(el);var p,pX,pY;p=el.attr("data-swiper-parallax")||"0",pX=el.attr("data-swiper-parallax-x"),pY=el.attr("data-swiper-parallax-y"),pX||pY?(pX=pX||"0",pY=pY||"0"):isH()?(pX=p,pY="0"):(pY=p,pX="0"),pX=pX.indexOf("%")>=0?parseInt(pX,10)*progress+"%":pX*progress+"px",pY=pY.indexOf("%")>=0?parseInt(pY,10)*progress+"%":pY*progress+"px",el.transform("translate3d("+pX+", "+pY+",0px)")}function normalizeEventName(eventName){return 0!==eventName.indexOf("on")&&(eventName=eventName[0]!==eventName[0].toUpperCase()?"on"+eventName[0].toUpperCase()+eventName.substring(1):"on"+eventName),eventName}var defaults=this.defaults,initalVirtualTranslate=params&&params.virtualTranslate;params=params||{};for(var def in defaults)if("undefined"==typeof params[def])params[def]=defaults[def];else if("object"==typeof params[def])for(var deepDef in defaults[def])"undefined"==typeof params[def][deepDef]&&(params[def][deepDef]=defaults[def][deepDef]);var s=this;if(s.params=params,s.classNames=[],s.$=$,s.container=$(container),0!==s.container.length){if(s.container.length>1)return void s.container.each(function(){new $.Swiper(this,params)});s.container[0].swiper=s,s.container.data("swiper",s),s.classNames.push("swiper-container-"+s.params.direction),s.params.freeMode&&s.classNames.push("swiper-container-free-mode"),s.support.flexbox||(s.classNames.push("swiper-container-no-flexbox"),s.params.slidesPerColumn=1),(s.params.parallax||s.params.watchSlidesVisibility)&&(s.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(s.params.effect)>=0&&(s.support.transforms3d?(s.params.watchSlidesProgress=!0,s.classNames.push("swiper-container-3d")):s.params.effect="slide"),"slide"!==s.params.effect&&s.classNames.push("swiper-container-"+s.params.effect),"cube"===s.params.effect&&(s.params.resistanceRatio=0,s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.centeredSlides=!1,s.params.spaceBetween=0,s.params.virtualTranslate=!0,s.params.setWrapperSize=!1),"fade"===s.params.effect&&(s.params.slidesPerView=1,s.params.slidesPerColumn=1,s.params.slidesPerGroup=1,s.params.watchSlidesProgress=!0,s.params.spaceBetween=0,"undefined"==typeof initalVirtualTranslate&&(s.params.virtualTranslate=!0)),s.params.grabCursor&&s.support.touch&&(s.params.grabCursor=!1),s.wrapper=s.container.children("."+s.params.wrapperClass),s.params.pagination&&(s.paginationContainer=$(s.params.pagination),s.params.paginationClickable&&s.paginationContainer.addClass("swiper-pagination-clickable")),s.rtl=isH()&&("rtl"===s.container[0].dir.toLowerCase()||"rtl"===s.container.css("direction")),s.rtl&&s.classNames.push("swiper-container-rtl"),s.rtl&&(s.wrongRTL="-webkit-box"===s.wrapper.css("display")),s.params.slidesPerColumn>1&&s.classNames.push("swiper-container-multirow"),s.device.android&&s.classNames.push("swiper-container-android"),s.container.addClass(s.classNames.join(" ")),s.translate=0,s.progress=0,s.velocity=0,s.lockSwipeToNext=function(){s.params.allowSwipeToNext=!1},s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=!1},s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!1},s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=!0},s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=!0},s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=!0},s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab"),s.imagesToLoad=[],s.imagesLoaded=0,s.loadImage=function(imgElement,src,checkForComplete,callback){function onReady(){callback&&callback()}var image;imgElement.complete&&checkForComplete?onReady():src?(image=new Image,image.onload=onReady,image.onerror=onReady,image.src=src):onReady()},s.preloadImages=function(){function _onReady(){"undefined"!=typeof s&&null!==s&&(void 0!==s.imagesLoaded&&s.imagesLoaded++,s.imagesLoaded===s.imagesToLoad.length&&(s.params.updateOnImagesReady&&s.update(),s.emit("onImagesReady",s)))}s.imagesToLoad=s.container.find("img");for(var i=0;i<s.imagesToLoad.length;i++)s.loadImage(s.imagesToLoad[i],s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute("src"),!0,_onReady)},s.autoplayTimeoutId=void 0,s.autoplaying=!1,s.autoplayPaused=!1,s.startAutoplay=function(){return"undefined"!=typeof s.autoplayTimeoutId?!1:s.params.autoplay?s.autoplaying?!1:(s.autoplaying=!0,s.emit("onAutoplayStart",s),void autoplay()):!1},s.stopAutoplay=function(){s.autoplayTimeoutId&&(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplaying=!1,s.autoplayTimeoutId=void 0,s.emit("onAutoplayStop",s))},s.pauseAutoplay=function(speed){s.autoplayPaused||(s.autoplayTimeoutId&&clearTimeout(s.autoplayTimeoutId),s.autoplayPaused=!0,0===speed?(s.autoplayPaused=!1,autoplay()):s.wrapper.transitionEnd(function(){s.autoplayPaused=!1,s.autoplaying?autoplay():s.stopAutoplay()}))},s.minTranslate=function(){return-s.snapGrid[0]},s.maxTranslate=function(){return-s.snapGrid[s.snapGrid.length-1]},s.updateContainerSize=function(){s.width=s.container[0].clientWidth,s.height=s.container[0].clientHeight,s.size=isH()?s.width:s.height},s.updateSlidesSize=function(){s.slides=s.wrapper.children("."+s.params.slideClass),s.snapGrid=[],s.slidesGrid=[],s.slidesSizesGrid=[];var i,spaceBetween=s.params.spaceBetween,slidePosition=0,prevSlideSize=0,index=0;"string"==typeof spaceBetween&&spaceBetween.indexOf("%")>=0&&(spaceBetween=parseFloat(spaceBetween.replace("%",""))/100*s.size),s.virtualSize=-spaceBetween,s.rtl?s.slides.css({marginLeft:"",marginTop:""}):s.slides.css({marginRight:"",marginBottom:""});var slidesNumberEvenToRows;s.params.slidesPerColumn>1&&(slidesNumberEvenToRows=Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn?s.slides.length:Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn);var slideSize;for(i=0;i<s.slides.length;i++){slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){var newSlideOrderIndex,column,row,slidesPerRow,slidesPerColumn=s.params.slidesPerColumn;"column"===s.params.slidesPerColumnFill?(column=Math.floor(i/slidesPerColumn),row=i-column*slidesPerColumn,newSlideOrderIndex=column+row*slidesNumberEvenToRows/slidesPerColumn,slide.css({"-webkit-box-ordinal-group":newSlideOrderIndex,"-moz-box-ordinal-group":newSlideOrderIndex,"-ms-flex-order":newSlideOrderIndex,"-webkit-order":newSlideOrderIndex,order:newSlideOrderIndex})):(slidesPerRow=slidesNumberEvenToRows/slidesPerColumn,row=Math.floor(i/slidesPerRow),column=i-row*slidesPerRow),slide.css({"margin-top":0!==row&&s.params.spaceBetween&&s.params.spaceBetween+"px"}).attr("data-swiper-column",column).attr("data-swiper-row",row)}"none"!==slide.css("display")&&("auto"===s.params.slidesPerView?slideSize=isH()?slide.outerWidth(!0):slide.outerHeight(!0):(slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView,isH()?s.slides[i].style.width=slideSize+"px":s.slides[i].style.height=slideSize+"px"),s.slides[i].swiperSlideSize=slideSize,s.slidesSizesGrid.push(slideSize),s.params.centeredSlides?(slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween,0===i&&(slidePosition=slidePosition-s.size/2-spaceBetween),Math.abs(slidePosition)<.001&&(slidePosition=0),index%s.params.slidesPerGroup===0&&s.snapGrid.push(slidePosition),s.slidesGrid.push(slidePosition)):(index%s.params.slidesPerGroup===0&&s.snapGrid.push(slidePosition),s.slidesGrid.push(slidePosition),slidePosition=slidePosition+slideSize+spaceBetween),s.virtualSize+=slideSize+spaceBetween,prevSlideSize=slideSize,index++)}s.virtualSize=Math.max(s.virtualSize,s.size);var newSlidesGrid;if(s.rtl&&s.wrongRTL&&("slide"===s.params.effect||"coverflow"===s.params.effect)&&s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),(!s.support.flexbox||s.params.setWrapperSize)&&(isH()?s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}):s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+"px"})),s.params.slidesPerColumn>1&&(s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows,s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween,s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+"px"}),s.params.centeredSlides)){for(newSlidesGrid=[],i=0;i<s.snapGrid.length;i++)s.snapGrid[i]<s.virtualSize+s.snapGrid[0]&&newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid}if(!s.params.centeredSlides){for(newSlidesGrid=[],i=0;i<s.snapGrid.length;i++)s.snapGrid[i]<=s.virtualSize-s.size&&newSlidesGrid.push(s.snapGrid[i]);s.snapGrid=newSlidesGrid,Math.floor(s.virtualSize-s.size)>Math.floor(s.snapGrid[s.snapGrid.length-1])&&s.snapGrid.push(s.virtualSize-s.size)}0===s.snapGrid.length&&(s.snapGrid=[0]),0!==s.params.spaceBetween&&(isH()?s.rtl?s.slides.css({marginLeft:spaceBetween+"px"}):s.slides.css({marginRight:spaceBetween+"px"}):s.slides.css({marginBottom:spaceBetween+"px"})),s.params.watchSlidesProgress&&s.updateSlidesOffset()},s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++)s.slides[i].swiperSlideOffset=isH()?s.slides[i].offsetLeft:s.slides[i].offsetTop},s.updateSlidesProgress=function(translate){if("undefined"==typeof translate&&(translate=s.translate||0),0!==s.slides.length){"undefined"==typeof s.slides[0].swiperSlideOffset&&s.updateSlidesOffset();var offsetCenter=s.params.centeredSlides?-translate+s.size/2:-translate;s.rtl&&(offsetCenter=s.params.centeredSlides?translate-s.size/2:translate),s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i],slideCenterOffset=s.params.centeredSlides===!0?slide.swiperSlideSize/2:0,slideProgress=(offsetCenter-slide.swiperSlideOffset-slideCenterOffset)/(slide.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset-slideCenterOffset),slideAfter=slideBefore+s.slidesSizesGrid[i],isVisible=slideBefore>=0&&slideBefore<s.size||slideAfter>0&&slideAfter<=s.size||0>=slideBefore&&slideAfter>=s.size;isVisible&&s.slides.eq(i).addClass(s.params.slideVisibleClass)}slide.progress=s.rtl?-slideProgress:slideProgress}}},s.updateProgress=function(translate){"undefined"==typeof translate&&(translate=s.translate||0);var translatesDiff=s.maxTranslate()-s.minTranslate();0===translatesDiff?(s.progress=0,s.isBeginning=s.isEnd=!0):(s.progress=(translate-s.minTranslate())/translatesDiff,s.isBeginning=s.progress<=0,s.isEnd=s.progress>=1),s.isBeginning&&s.emit("onReachBeginning",s),s.isEnd&&s.emit("onReachEnd",s),s.params.watchSlidesProgress&&s.updateSlidesProgress(translate),s.emit("onProgress",s,s.progress)},s.updateActiveIndex=function(){var newActiveIndex,i,snapIndex,translate=s.rtl?s.translate:-s.translate;for(i=0;i<s.slidesGrid.length;i++)"undefined"!=typeof s.slidesGrid[i+1]?translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2?newActiveIndex=i:translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]&&(newActiveIndex=i+1):translate>=s.slidesGrid[i]&&(newActiveIndex=i);(0>newActiveIndex||"undefined"==typeof newActiveIndex)&&(newActiveIndex=0),snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup),snapIndex>=s.snapGrid.length&&(snapIndex=s.snapGrid.length-1),newActiveIndex!==s.activeIndex&&(s.snapIndex=snapIndex,s.previousIndex=s.activeIndex,s.activeIndex=newActiveIndex,s.updateClasses())},s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+" "+s.params.slideNextClass+" "+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);if(activeSlide.addClass(s.params.slideActiveClass),activeSlide.next("."+s.params.slideClass).addClass(s.params.slideNextClass),activeSlide.prev("."+s.params.slideClass).addClass(s.params.slidePrevClass),s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);var bulletIndex;s.params.loop?(bulletIndex=Math.ceil(s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup,bulletIndex>s.slides.length-1-2*s.loopedSlides&&(bulletIndex-=s.slides.length-2*s.loopedSlides),bulletIndex>s.bullets.length-1&&(bulletIndex-=s.bullets.length)):bulletIndex="undefined"!=typeof s.snapIndex?s.snapIndex:s.activeIndex||0,s.paginationContainer.length>1?s.bullets.each(function(){$(this).index()===bulletIndex&&$(this).addClass(s.params.bulletActiveClass)}):s.bullets.eq(bulletIndex).addClass(s.params.bulletActiveClass)}s.params.loop||(s.params.prevButton&&(s.isBeginning?($(s.params.prevButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable($(s.params.prevButton))):($(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable($(s.params.prevButton)))),s.params.nextButton&&(s.isEnd?($(s.params.nextButton).addClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.disable($(s.params.nextButton))):($(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.a11y&&s.a11y&&s.a11y.enable($(s.params.nextButton)))))},s.updatePagination=function(){if(s.params.pagination&&s.paginationContainer&&s.paginationContainer.length>0){for(var bulletsHTML="",numberOfBullets=s.params.loop?Math.ceil((s.slides.length-2*s.loopedSlides)/s.params.slidesPerGroup):s.snapGrid.length,i=0;numberOfBullets>i;i++)bulletsHTML+=s.params.paginationBulletRender?s.params.paginationBulletRender(i,s.params.bulletClass):'<span class="'+s.params.bulletClass+'"></span>';s.paginationContainer.html(bulletsHTML),s.bullets=s.paginationContainer.find("."+s.params.bulletClass)}},s.update=function(updateTranslate){function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate()),s.setWrapperTranslate(newTranslate),s.updateActiveIndex(),s.updateClasses()}if(s.updateContainerSize(),s.updateSlidesSize(),s.updateProgress(),s.updatePagination(),s.updateClasses(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),updateTranslate){var translated,newTranslate;s.params.freeMode?forceSetTranslate():(translated="auto"===s.params.slidesPerView&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),translated||forceSetTranslate())}},s.onResize=function(){if(s.updateContainerSize(),s.updateSlidesSize(),s.updateProgress(),("auto"===s.params.slidesPerView||s.params.freeMode)&&s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate),s.updateActiveIndex(),s.updateClasses()}else s.updateClasses(),"auto"===s.params.slidesPerView&&s.isEnd&&!s.params.centeredSlides?s.slideTo(s.slides.length-1,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0)};var desktopEvents=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?desktopEvents=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(desktopEvents=["MSPointerDown","MSPointerMove","MSPointerUp"]),s.touchEvents={start:s.support.touch||!s.params.simulateTouch?"touchstart":desktopEvents[0],move:s.support.touch||!s.params.simulateTouch?"touchmove":desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?"touchend":desktopEvents[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===s.params.touchEventsTarget?s.container:s.wrapper).addClass("swiper-wp8-"+s.params.direction),s.initEvents=function(detach){var actionDom=detach?"off":"on",action=detach?"removeEventListener":"addEventListener",touchEventsTarget="container"===s.params.touchEventsTarget?s.container[0]:s.wrapper[0],target=s.support.touch?touchEventsTarget:document,moveCapture=s.params.nested?!0:!1;s.browser.ie?(touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,!1),target[action](s.touchEvents.move,s.onTouchMove,moveCapture),target[action](s.touchEvents.end,s.onTouchEnd,!1)):(s.support.touch&&(touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,!1),touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture),touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,!1)),!params.simulateTouch||s.device.ios||s.device.android||(touchEventsTarget[action]("mousedown",s.onTouchStart,!1),target[action]("mousemove",s.onTouchMove,moveCapture),target[action]("mouseup",s.onTouchEnd,!1))),window[action]("resize",s.onResize),s.params.nextButton&&($(s.params.nextButton)[actionDom]("click",s.onClickNext),s.params.a11y&&s.a11y&&$(s.params.nextButton)[actionDom]("keydown",s.a11y.onEnterKey)),s.params.prevButton&&($(s.params.prevButton)[actionDom]("click",s.onClickPrev),s.params.a11y&&s.a11y&&$(s.params.prevButton)[actionDom]("keydown",s.a11y.onEnterKey)),s.params.pagination&&s.params.paginationClickable&&$(s.paginationContainer)[actionDom]("click","."+s.params.bulletClass,s.onClickIndex),(s.params.preventClicks||s.params.preventClicksPropagation)&&touchEventsTarget[action]("click",s.preventClicks,!0)},s.attachEvents=function(){s.initEvents()},s.detachEvents=function(){s.initEvents(!0)},s.allowClick=!0,s.preventClicks=function(e){s.allowClick||(s.params.preventClicks&&e.preventDefault(),s.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},s.onClickNext=function(e){e.preventDefault(),s.slideNext()},s.onClickPrev=function(e){e.preventDefault(),s.slidePrev()},s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;s.params.loop&&(index+=s.loopedSlides),s.slideTo(index)},s.updateClickedSlide=function(e){var slide=findElementInEvent(e,"."+s.params.slideClass);if(!slide)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);if(s.clickedSlide=slide,s.clickedIndex=$(slide).index(),s.params.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex){var realIndex,slideToIndex=s.clickedIndex;if(s.params.loop)if(realIndex=$(s.clickedSlide).attr("data-swiper-slide-index"),slideToIndex>s.slides.length-s.params.slidesPerView)s.fixLoop(),slideToIndex=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]').eq(0).index(),setTimeout(function(){s.slideTo(slideToIndex)},0);else if(slideToIndex<s.params.slidesPerView-1){s.fixLoop();var duplicatedSlides=s.wrapper.children("."+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]');slideToIndex=duplicatedSlides.eq(duplicatedSlides.length-1).index(),setTimeout(function(){s.slideTo(slideToIndex)},0)}else s.slideTo(slideToIndex);else s.slideTo(slideToIndex)}};var isTouched,isMoved,touchStartTime,isScrolling,currentTranslate,startTranslate,allowThresholdMove,clickTimeout,allowMomentumBounce,formElements="input, select, textarea, button",lastClickTime=Date.now(),velocities=[];s.animating=!1,s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent,startMoving;s.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),isTouchEvent="touchstart"===e.type,isTouchEvent||!("which"in e)||3!==e.which){if(s.params.noSwiping&&findElementInEvent(e,"."+s.params.noSwipingClass))return void(s.allowClick=!0);if(!s.params.swipeHandler||findElementInEvent(e,s.params.swipeHandler)){if(isTouched=!0,isMoved=!1,isScrolling=void 0,startMoving=void 0,s.touches.startX=s.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.startY=s.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,touchStartTime=Date.now(),s.allowClick=!0,s.updateContainerSize(),s.swipeDirection=void 0,s.params.threshold>0&&(allowThresholdMove=!1),"touchstart"!==e.type){var preventDefault=!0;$(e.target).is(formElements)&&(preventDefault=!1),document.activeElement&&$(document.activeElement).is(formElements)&&document.activeElement.blur(),preventDefault&&e.preventDefault()}s.emit("onTouchStart",s,e)}}},s.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(isTouchEvent&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(s.params.onlyExternal)return isMoved=!0,void(s.allowClick=!1);if(isTouchEvent&&document.activeElement&&e.target===document.activeElement&&$(e.target).is(formElements))return isMoved=!0,void(s.allowClick=!1);if(s.emit("onTouchMove",s,e),!(e.targetTouches&&e.targetTouches.length>1)){if(s.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof isScrolling){var touchAngle=180*Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))/Math.PI;isScrolling=isH()?touchAngle>s.params.touchAngle:90-touchAngle>s.params.touchAngle}if(isScrolling&&s.emit("onTouchMoveOpposite",s,e),"undefined"==typeof startMoving&&s.browser.ieTouch&&(s.touches.currentX!==s.touches.startX||s.touches.currentY!==s.touches.startY)&&(startMoving=!0),isTouched){if(isScrolling)return void(isTouched=!1);if(startMoving||!s.browser.ieTouch){s.allowClick=!1,s.emit("onSliderMove",s,e),e.preventDefault(),s.params.touchMoveStopPropagation&&!s.params.nested&&e.stopPropagation(),isMoved||(params.loop&&s.fixLoop(),startTranslate=s.getWrapperTranslate(),s.setWrapperTransition(0),s.animating&&s.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),s.params.autoplay&&s.autoplaying&&(s.params.autoplayDisableOnInteraction?s.stopAutoplay():s.pauseAutoplay()),allowMomentumBounce=!1,s.params.grabCursor&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grabbing",s.container[0].style.cursor="-moz-grabbin",s.container[0].style.cursor="grabbing")),isMoved=!0;var diff=s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff*=s.params.touchRatio,s.rtl&&(diff=-diff),s.swipeDirection=diff>0?"prev":"next",currentTranslate=diff+startTranslate;var disableParentSwiper=!0;if(diff>0&&currentTranslate>s.minTranslate()?(disableParentSwiper=!1,s.params.resistance&&(currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio))):0>diff&&currentTranslate<s.maxTranslate()&&(disableParentSwiper=!1,s.params.resistance&&(currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio))),disableParentSwiper&&(e.preventedByNestedSwiper=!0),!s.params.allowSwipeToNext&&"next"===s.swipeDirection&&startTranslate>currentTranslate&&(currentTranslate=startTranslate),!s.params.allowSwipeToPrev&&"prev"===s.swipeDirection&&currentTranslate>startTranslate&&(currentTranslate=startTranslate),s.params.followFinger){if(s.params.threshold>0){if(!(Math.abs(diff)>s.params.threshold||allowThresholdMove))return void(currentTranslate=startTranslate);if(!allowThresholdMove)return allowThresholdMove=!0,s.touches.startX=s.touches.currentX,s.touches.startY=s.touches.currentY,currentTranslate=startTranslate,void(s.touches.diff=isH()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY)}(s.params.freeMode||s.params.watchSlidesProgress)&&s.updateActiveIndex(),s.params.freeMode&&(0===velocities.length&&velocities.push({position:s.touches[isH()?"startX":"startY"],time:touchStartTime}),velocities.push({position:s.touches[isH()?"currentX":"currentY"],time:(new Date).getTime()})),s.updateProgress(currentTranslate),s.setWrapperTranslate(currentTranslate)}}}}}},s.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),s.emit("onTouchEnd",s,e),isTouched){s.params.grabCursor&&isMoved&&isTouched&&(s.container[0].style.cursor="move",s.container[0].style.cursor="-webkit-grab",s.container[0].style.cursor="-moz-grab",s.container[0].style.cursor="grab");var touchEndTime=Date.now(),timeDiff=touchEndTime-touchStartTime;if(s.allowClick&&(s.updateClickedSlide(e),s.emit("onTap",s,e),300>timeDiff&&touchEndTime-lastClickTime>300&&(clickTimeout&&clearTimeout(clickTimeout),clickTimeout=setTimeout(function(){s&&(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass)&&s.paginationContainer.toggleClass(s.params.paginationHiddenClass),s.emit("onClick",s,e))},300)),300>timeDiff&&300>touchEndTime-lastClickTime&&(clickTimeout&&clearTimeout(clickTimeout),s.emit("onDoubleTap",s,e))),lastClickTime=Date.now(),setTimeout(function(){s&&s.allowClick&&(s.allowClick=!0)},0),!isTouched||!isMoved||!s.swipeDirection||0===s.touches.diff||currentTranslate===startTranslate)return void(isTouched=isMoved=!1);isTouched=isMoved=!1;var currentPos;if(currentPos=s.params.followFinger?s.rtl?s.translate:-s.translate:-currentTranslate,s.params.freeMode){if(currentPos<-s.minTranslate())return void s.slideTo(s.activeIndex);if(currentPos>-s.maxTranslate())return void s.slideTo(s.slides.length-1);if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop(),velocityEvent=velocities.pop(),distance=lastMoveEvent.position-velocityEvent.position,time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time,s.velocity=s.velocity/2,Math.abs(s.velocity)<.02&&(s.velocity=0),(time>150||(new Date).getTime()-lastMoveEvent.time>300)&&(s.velocity=0)}else s.velocity=0;velocities.length=0;var momentumDuration=1e3*s.params.freeModeMomentumRatio,momentumDistance=s.velocity*momentumDuration,newPosition=s.translate+momentumDistance;s.rtl&&(newPosition=-newPosition);var afterBouncePosition,doBounce=!1,bounceAmount=20*Math.abs(s.velocity)*s.params.freeModeMomentumBounceRatio;newPosition<s.maxTranslate()&&(s.params.freeModeMomentumBounce?(newPosition+s.maxTranslate()<-bounceAmount&&(newPosition=s.maxTranslate()-bounceAmount),afterBouncePosition=s.maxTranslate(),doBounce=!0,allowMomentumBounce=!0):newPosition=s.maxTranslate()),newPosition>s.minTranslate()&&(s.params.freeModeMomentumBounce?(newPosition-s.minTranslate()>bounceAmount&&(newPosition=s.minTranslate()+bounceAmount),afterBouncePosition=s.minTranslate(),doBounce=!0,allowMomentumBounce=!0):newPosition=s.minTranslate()),0!==s.velocity&&(momentumDuration=s.rtl?Math.abs((-newPosition-s.translate)/s.velocity):Math.abs((newPosition-s.translate)/s.velocity)),s.params.freeModeMomentumBounce&&doBounce?(s.updateProgress(afterBouncePosition),s.setWrapperTransition(momentumDuration),s.setWrapperTranslate(newPosition),s.onTransitionStart(),s.animating=!0,s.wrapper.transitionEnd(function(){allowMomentumBounce&&(s.emit("onMomentumBounce",s),s.setWrapperTransition(s.params.speed),s.setWrapperTranslate(afterBouncePosition),s.wrapper.transitionEnd(function(){s.onTransitionEnd()}))})):s.velocity?(s.updateProgress(newPosition),s.setWrapperTransition(momentumDuration),s.setWrapperTranslate(newPosition),s.onTransitionStart(),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s.onTransitionEnd()}))):s.updateProgress(newPosition),s.updateActiveIndex()}return void((!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs)&&(s.updateProgress(),s.updateActiveIndex()))}var i,stopIndex=0,groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup)"undefined"!=typeof s.slidesGrid[i+s.params.slidesPerGroup]?currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]&&(stopIndex=i,groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i]):currentPos>=s.slidesGrid[i]&&(stopIndex=i,groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2]);var ratio=(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&(ratio>=s.params.longSwipesRatio?s.slideTo(stopIndex+s.params.slidesPerGroup):s.slideTo(stopIndex)),"prev"===s.swipeDirection&&(ratio>1-s.params.longSwipesRatio?s.slideTo(stopIndex+s.params.slidesPerGroup):s.slideTo(stopIndex))}else{if(!s.params.shortSwipes)return void s.slideTo(s.activeIndex);"next"===s.swipeDirection&&s.slideTo(stopIndex+s.params.slidesPerGroup),"prev"===s.swipeDirection&&s.slideTo(stopIndex)}}},s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,!0,!0)},s.slideTo=function(slideIndex,speed,runCallbacks,internal){"undefined"==typeof runCallbacks&&(runCallbacks=!0),"undefined"==typeof slideIndex&&(slideIndex=0),0>slideIndex&&(slideIndex=0),s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup),s.snapIndex>=s.snapGrid.length&&(s.snapIndex=s.snapGrid.length-1);var translate=-s.snapGrid[s.snapIndex];s.params.autoplay&&s.autoplaying&&(internal||!s.params.autoplayDisableOnInteraction?s.pauseAutoplay(speed):s.stopAutoplay()),s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++)-translate>=s.slidesGrid[i]&&(slideIndex=i);return"undefined"==typeof speed&&(speed=s.params.speed),s.previousIndex=s.activeIndex||0,s.activeIndex=slideIndex,translate===s.translate?(s.updateClasses(),!1):(s.onTransitionStart(runCallbacks),0===speed?(s.setWrapperTransition(0),s.setWrapperTranslate(translate),s.onTransitionEnd(runCallbacks)):(s.setWrapperTransition(speed),s.setWrapperTranslate(translate),s.animating||(s.animating=!0,s.wrapper.transitionEnd(function(){s.onTransitionEnd(runCallbacks)}))),s.updateClasses(),!0)},s.onTransitionStart=function(runCallbacks){"undefined"==typeof runCallbacks&&(runCallbacks=!0),s.lazy&&s.lazy.onTransitionStart(),runCallbacks&&(s.emit("onTransitionStart",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeStart",s))},s.onTransitionEnd=function(runCallbacks){s.animating=!1,s.setWrapperTransition(0),"undefined"==typeof runCallbacks&&(runCallbacks=!0),s.lazy&&s.lazy.onTransitionEnd(),runCallbacks&&(s.emit("onTransitionEnd",s),s.activeIndex!==s.previousIndex&&s.emit("onSlideChangeEnd",s)),s.params.hashnav&&s.hashnav&&s.hashnav.setHash()},s.slideNext=function(runCallbacks,speed,internal){return s.params.loop?s.animating?!1:(s.fixLoop(),s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)):s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal)},s._slideNext=function(speed){return s.slideNext(!0,speed,!0)},s.slidePrev=function(runCallbacks,speed,internal){return s.params.loop?s.animating?!1:(s.fixLoop(),s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)):s.slideTo(s.activeIndex-1,speed,runCallbacks,internal)},s._slidePrev=function(speed){return s.slidePrev(!0,speed,!0)},s.slideReset=function(runCallbacks,speed){return s.slideTo(s.activeIndex,speed,runCallbacks)},s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTransition(duration),s.params.parallax&&s.parallax&&s.parallax.setTransition(duration),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTransition(duration),s.params.control&&s.controller&&s.controller.setTransition(duration,byController),s.emit("onSetTransition",s,duration)},s.setWrapperTranslate=function(translate,updateActiveIndex,byController){
var x=0,y=0,z=0;isH()?x=s.rtl?-translate:translate:y=translate,s.params.virtualTranslate||(s.support.transforms3d?s.wrapper.transform("translate3d("+x+"px, "+y+"px, "+z+"px)"):s.wrapper.transform("translate("+x+"px, "+y+"px)")),s.translate=isH()?x:y,updateActiveIndex&&s.updateActiveIndex(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&s.effects[s.params.effect].setTranslate(s.translate),s.params.parallax&&s.parallax&&s.parallax.setTranslate(s.translate),s.params.scrollbar&&s.scrollbar&&s.scrollbar.setTranslate(s.translate),s.params.control&&s.controller&&s.controller.setTranslate(s.translate,byController),s.emit("onSetTranslate",s,s.translate)},s.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;return"undefined"==typeof axis&&(axis="x"),s.params.virtualTranslate?s.rtl?-s.translate:s.translate:(curStyle=window.getComputedStyle(el,null),window.WebKitCSSMatrix?transformMatrix=new WebKitCSSMatrix("none"===curStyle.webkitTransform?"":curStyle.webkitTransform):(transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),matrix=transformMatrix.toString().split(",")),"x"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m41:16===matrix.length?parseFloat(matrix[12]):parseFloat(matrix[4])),"y"===axis&&(curTransform=window.WebKitCSSMatrix?transformMatrix.m42:16===matrix.length?parseFloat(matrix[13]):parseFloat(matrix[5])),s.rtl&&curTransform&&(curTransform=-curTransform),curTransform||0)},s.getWrapperTranslate=function(axis){return"undefined"==typeof axis&&(axis=isH()?"x":"y"),s.getTranslate(s.wrapper[0],axis)},s.observers=[],s.initObservers=function(){if(s.params.observeParents)for(var containerParents=s.container.parents(),i=0;i<containerParents.length;i++)initObserver(containerParents[i]);initObserver(s.container[0],{childList:!1}),initObserver(s.wrapper[0],{attributes:!1})},s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++)s.observers[i].disconnect();s.observers=[]},s.createLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove();var slides=s.wrapper.children("."+s.params.slideClass);s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10),s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides,s.loopedSlides>slides.length&&(s.loopedSlides=slides.length);var i,prependSlides=[],appendSlides=[];for(slides.each(function(index,el){var slide=$(this);index<s.loopedSlides&&appendSlides.push(el),index<slides.length&&index>=slides.length-s.loopedSlides&&prependSlides.push(el),slide.attr("data-swiper-slide-index",index)}),i=0;i<appendSlides.length;i++)s.wrapper.append($(appendSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass));for(i=prependSlides.length-1;i>=0;i--)s.wrapper.prepend($(prependSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass))},s.destroyLoop=function(){s.wrapper.children("."+s.params.slideClass+"."+s.params.slideDuplicateClass).remove(),s.slides.removeAttr("data-swiper-slide-index")},s.fixLoop=function(){var newIndex;s.activeIndex<s.loopedSlides?(newIndex=s.slides.length-3*s.loopedSlides+s.activeIndex,newIndex+=s.loopedSlides,s.slideTo(newIndex,0,!1,!0)):("auto"===s.params.slidesPerView&&s.activeIndex>=2*s.loopedSlides||s.activeIndex>s.slides.length-2*s.params.slidesPerView)&&(newIndex=-s.slides.length+s.activeIndex+s.loopedSlides,newIndex+=s.loopedSlides,s.slideTo(newIndex,0,!1,!0))},s.appendSlide=function(slides){if(s.params.loop&&s.destroyLoop(),"object"==typeof slides&&slides.length)for(var i=0;i<slides.length;i++)slides[i]&&s.wrapper.append(slides[i]);else s.wrapper.append(slides);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0)},s.prependSlide=function(slides){s.params.loop&&s.destroyLoop();var newActiveIndex=s.activeIndex+1;if("object"==typeof slides&&slides.length){for(var i=0;i<slides.length;i++)slides[i]&&s.wrapper.prepend(slides[i]);newActiveIndex=s.activeIndex+slides.length}else s.wrapper.prepend(slides);s.params.loop&&s.createLoop(),s.params.observer&&s.support.observer||s.update(!0),s.slideTo(newActiveIndex,0,!1)},s.removeSlide=function(slidesIndexes){s.params.loop&&s.destroyLoop();var indexToRemove,newActiveIndex=s.activeIndex;if("object"==typeof slidesIndexes&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++)indexToRemove=slidesIndexes[i],s.slides[indexToRemove]&&s.slides.eq(indexToRemove).remove(),newActiveIndex>indexToRemove&&newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0)}else indexToRemove=slidesIndexes,s.slides[indexToRemove]&&s.slides.eq(indexToRemove).remove(),newActiveIndex>indexToRemove&&newActiveIndex--,newActiveIndex=Math.max(newActiveIndex,0);s.params.observer&&s.support.observer||s.update(!0),s.slideTo(newActiveIndex,0,!1)},s.removeAllSlides=function(){for(var slidesIndexes=[],i=0;i<s.slides.length;i++)slidesIndexes.push(i);s.removeSlide(slidesIndexes)},s.effects={fade:{fadeIndex:null,setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i),offset=slide[0].swiperSlideOffset,tx=-offset;s.params.virtualTranslate||(tx-=s.translate);var ty=0;isH()||(ty=tx,tx=0);var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slideOpacity>0&&1>slideOpacity&&(s.effects.fade.fadeIndex=i),slide.css({opacity:slideOpacity}).transform("translate3d("+tx+"px, "+ty+"px, 0px)")}},setTransition:function(duration){if(s.slides.transition(duration),s.params.virtualTranslate&&0!==duration){var fadeIndex=null!==s.effects.fade.fadeIndex?s.effects.fade.fadeIndex:s.activeIndex;s.slides.eq(fadeIndex).transitionEnd(function(){for(var triggerEvents=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=0;i<triggerEvents.length;i++)s.wrapper.trigger(triggerEvents[i])})}}},cube:{setTranslate:function(){var cubeShadow,wrapperRotate=0;s.params.cube.shadow&&(isH()?(cubeShadow=s.wrapper.find(".swiper-cube-shadow"),0===cubeShadow.length&&(cubeShadow=$('<div class="swiper-cube-shadow"></div>'),s.wrapper.append(cubeShadow)),cubeShadow.css({height:s.width+"px"})):(cubeShadow=s.container.find(".swiper-cube-shadow"),0===cubeShadow.length&&(cubeShadow=$('<div class="swiper-cube-shadow"></div>'),s.container.append(cubeShadow))));for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i),slideAngle=90*i,round=Math.floor(slideAngle/360);s.rtl&&(slideAngle=-slideAngle,round=Math.floor(-slideAngle/360));var progress=Math.max(Math.min(slide[0].progress,1),-1),tx=0,ty=0,tz=0;i%4===0?(tx=4*-round*s.size,tz=0):(i-1)%4===0?(tx=0,tz=4*-round*s.size):(i-2)%4===0?(tx=s.size+4*round*s.size,tz=s.size):(i-3)%4===0&&(tx=-s.size,tz=3*s.size+4*s.size*round),s.rtl&&(tx=-tx),isH()||(ty=tx,tx=0);var transform="rotateX("+(isH()?0:-slideAngle)+"deg) rotateY("+(isH()?slideAngle:0)+"deg) translate3d("+tx+"px, "+ty+"px, "+tz+"px)";if(1>=progress&&progress>-1&&(wrapperRotate=90*i+90*progress,s.rtl&&(wrapperRotate=90*-i-90*progress)),slide.transform(transform),s.params.cube.slideShadows){var shadowBefore=isH()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top"),shadowAfter=isH()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");0===shadowBefore.length&&(shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?"left":"top")+'"></div>'),slide.append(shadowBefore)),0===shadowAfter.length&&(shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?"right":"bottom")+'"></div>'),slide.append(shadowAfter)),shadowBefore.length&&(shadowBefore[0].style.opacity=-slide[0].progress),shadowAfter.length&&(shadowAfter[0].style.opacity=slide[0].progress)}}if(s.wrapper.css({"-webkit-transform-origin":"50% 50% -"+s.size/2+"px","-moz-transform-origin":"50% 50% -"+s.size/2+"px","-ms-transform-origin":"50% 50% -"+s.size/2+"px","transform-origin":"50% 50% -"+s.size/2+"px"}),s.params.cube.shadow)if(isH())cubeShadow.transform("translate3d(0px, "+(s.width/2+s.params.cube.shadowOffset)+"px, "+-s.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+s.params.cube.shadowScale+")");else{var shadowAngle=Math.abs(wrapperRotate)-90*Math.floor(Math.abs(wrapperRotate)/90),multiplier=1.5-(Math.sin(2*shadowAngle*Math.PI/360)/2+Math.cos(2*shadowAngle*Math.PI/360)/2),scale1=s.params.cube.shadowScale,scale2=s.params.cube.shadowScale/multiplier,offset=s.params.cube.shadowOffset;cubeShadow.transform("scale3d("+scale1+", 1, "+scale2+") translate3d(0px, "+(s.height/2+offset)+"px, "+-s.height/2/scale2+"px) rotateX(-90deg)")}var zFactor=s.isSafari||s.isUiWebView?-s.size/2:0;s.wrapper.transform("translate3d(0px,0,"+zFactor+"px) rotateX("+(isH()?0:wrapperRotate)+"deg) rotateY("+(isH()?-wrapperRotate:0)+"deg)")},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration),s.params.cube.shadow&&!isH()&&s.container.find(".swiper-cube-shadow").transition(duration)}},coverflow:{setTranslate:function(){for(var transform=s.translate,center=isH()?-transform+s.width/2:-transform+s.height/2,rotate=isH()?s.params.coverflow.rotate:-s.params.coverflow.rotate,translate=s.params.coverflow.depth,i=0,length=s.slides.length;length>i;i++){var slide=s.slides.eq(i),slideSize=s.slidesSizesGrid[i],slideOffset=slide[0].swiperSlideOffset,offsetMultiplier=(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier,rotateY=isH()?rotate*offsetMultiplier:0,rotateX=isH()?0:rotate*offsetMultiplier,translateZ=-translate*Math.abs(offsetMultiplier),translateY=isH()?0:s.params.coverflow.stretch*offsetMultiplier,translateX=isH()?s.params.coverflow.stretch*offsetMultiplier:0;Math.abs(translateX)<.001&&(translateX=0),Math.abs(translateY)<.001&&(translateY=0),Math.abs(translateZ)<.001&&(translateZ=0),Math.abs(rotateY)<.001&&(rotateY=0),Math.abs(rotateX)<.001&&(rotateX=0);var slideTransform="translate3d("+translateX+"px,"+translateY+"px,"+translateZ+"px)  rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)";if(slide.transform(slideTransform),slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1,s.params.coverflow.slideShadows){var shadowBefore=isH()?slide.find(".swiper-slide-shadow-left"):slide.find(".swiper-slide-shadow-top"),shadowAfter=isH()?slide.find(".swiper-slide-shadow-right"):slide.find(".swiper-slide-shadow-bottom");0===shadowBefore.length&&(shadowBefore=$('<div class="swiper-slide-shadow-'+(isH()?"left":"top")+'"></div>'),slide.append(shadowBefore)),0===shadowAfter.length&&(shadowAfter=$('<div class="swiper-slide-shadow-'+(isH()?"right":"bottom")+'"></div>'),slide.append(shadowAfter)),shadowBefore.length&&(shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0),shadowAfter.length&&(shadowAfter[0].style.opacity=-offsetMultiplier>0?-offsetMultiplier:0)}}if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+"px 50%"}},setTransition:function(duration){s.slides.transition(duration).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(duration)}}},s.lazy={initialImageLoaded:!1,loadImageInSlide:function(index){if("undefined"!=typeof index&&0!==s.slides.length){var slide=s.slides.eq(index),img=slide.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");0!==img.length&&img.each(function(){var _img=$(this);_img.addClass("swiper-lazy-loading");var src=_img.attr("data-src");s.loadImage(_img[0],src,!1,function(){_img.attr("src",src),_img.removeAttr("data-src"),_img.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),slide.find(".swiper-lazy-preloader, .preloader").remove(),s.emit("onLazyImageReady",s,slide[0],_img[0])}),s.emit("onLazyImageLoad",s,slide[0],_img[0])})}},load:function(){if(s.params.watchSlidesVisibility)s.wrapper.children("."+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index())});else if(s.params.slidesPerView>1)for(var i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++)s.slides[i]&&s.lazy.loadImageInSlide(i);else s.lazy.loadImageInSlide(s.activeIndex);if(s.params.lazyLoadingInPrevNext){var nextSlide=s.wrapper.children("."+s.params.slideNextClass);nextSlide.length>0&&s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children("."+s.params.slidePrevClass);prevSlide.length>0&&s.lazy.loadImageInSlide(prevSlide.index())}},onTransitionStart:function(){s.params.lazyLoading&&(s.params.lazyLoadingOnTransitionStart||!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)&&(s.lazy.initialImageLoaded=!0,s.lazy.load())},onTransitionEnd:function(){s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart&&s.lazy.load()}},s.scrollbar={set:function(){if(s.params.scrollbar){var sb=s.scrollbar;sb.track=$(s.params.scrollbar),sb.drag=sb.track.find(".swiper-scrollbar-drag"),0===sb.drag.length&&(sb.drag=$('<div class="swiper-scrollbar-drag"></div>'),sb.track.append(sb.drag)),sb.drag[0].style.width="",sb.drag[0].style.height="",sb.trackSize=isH()?sb.track[0].offsetWidth:sb.track[0].offsetHeight,sb.divider=s.size/s.virtualSize,sb.moveDivider=sb.divider*(sb.trackSize/s.size),sb.dragSize=sb.trackSize*sb.divider,isH()?sb.drag[0].style.width=sb.dragSize+"px":sb.drag[0].style.height=sb.dragSize+"px",sb.divider>=1?sb.track[0].style.display="none":sb.track[0].style.display="",s.params.scrollbarHide&&(sb.track[0].style.opacity=0)}},setTranslate:function(){if(s.params.scrollbar){var newPos,sb=s.scrollbar,newSize=sb.dragSize;newPos=(sb.trackSize-sb.dragSize)*s.progress,s.rtl&&isH()?(newPos=-newPos,newPos>0?(newSize=sb.dragSize-newPos,newPos=0):-newPos+sb.dragSize>sb.trackSize&&(newSize=sb.trackSize+newPos)):0>newPos?(newSize=sb.dragSize+newPos,newPos=0):newPos+sb.dragSize>sb.trackSize&&(newSize=sb.trackSize-newPos),isH()?(s.support.transforms3d?sb.drag.transform("translate3d("+newPos+"px, 0, 0)"):sb.drag.transform("translateX("+newPos+"px)"),sb.drag[0].style.width=newSize+"px"):(s.support.transforms3d?sb.drag.transform("translate3d(0px, "+newPos+"px, 0)"):sb.drag.transform("translateY("+newPos+"px)"),sb.drag[0].style.height=newSize+"px"),s.params.scrollbarHide&&(clearTimeout(sb.timeout),sb.track[0].style.opacity=1,sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0,sb.track.transition(400)},1e3))}},setTransition:function(duration){s.params.scrollbar&&s.scrollbar.drag.transition(duration)}},s.controller={setTranslate:function(translate,byController){var multiplier,controlledTranslate,controlled=s.params.control;if(s.isArray(controlled))for(var i=0;i<controlled.length;i++)controlled[i]!==byController&&controlled[i]instanceof Swiper&&(translate=controlled[i].rtl&&"horizontal"===controlled[i].params.direction?-s.translate:s.translate,multiplier=(controlled[i].maxTranslate()-controlled[i].minTranslate())/(s.maxTranslate()-s.minTranslate()),controlledTranslate=(translate-s.minTranslate())*multiplier+controlled[i].minTranslate(),s.params.controlInverse&&(controlledTranslate=controlled[i].maxTranslate()-controlledTranslate),controlled[i].updateProgress(controlledTranslate),controlled[i].setWrapperTranslate(controlledTranslate,!1,s),controlled[i].updateActiveIndex());else controlled instanceof Swiper&&byController!==controlled&&(translate=controlled.rtl&&"horizontal"===controlled.params.direction?-s.translate:s.translate,multiplier=(controlled.maxTranslate()-controlled.minTranslate())/(s.maxTranslate()-s.minTranslate()),controlledTranslate=(translate-s.minTranslate())*multiplier+controlled.minTranslate(),s.params.controlInverse&&(controlledTranslate=controlled.maxTranslate()-controlledTranslate),controlled.updateProgress(controlledTranslate),controlled.setWrapperTranslate(controlledTranslate,!1,s),controlled.updateActiveIndex())},setTransition:function(duration,byController){var controlled=s.params.control;if(s.isArray(controlled))for(var i=0;i<controlled.length;i++)controlled[i]!==byController&&controlled[i]instanceof Swiper&&controlled[i].setWrapperTransition(duration,s);else controlled instanceof Swiper&&byController!==controlled&&controlled.setWrapperTransition(duration,s)}},s.parallax={setTranslate:function(){s.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){setParallaxTransform(this,s.progress)}),s.slides.each(function(){var slide=$(this);slide.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress)})})},setTransition:function(duration){"undefined"==typeof duration&&(duration=s.params.speed),s.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var el=$(this),parallaxDuration=parseInt(el.attr("data-swiper-parallax-duration"),10)||duration;0===duration&&(parallaxDuration=0),el.transition(parallaxDuration)})}},s._plugins=[];for(var plugin in s.plugins)if(s.plugins.hasOwnProperty(plugin)){var p=s.plugins[plugin](s,s.params[plugin]);p&&s._plugins.push(p)}return s.callPlugins=function(eventName){for(var i=0;i<s._plugins.length;i++)eventName in s._plugins[i]&&s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.emitterEventListeners={},s.emit=function(eventName){s.params[eventName]&&s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var i;if(s.emitterEventListeners[eventName])for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);s.callPlugins&&s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},s.on=function(eventName,handler){return eventName=normalizeEventName(eventName),s.emitterEventListeners[eventName]||(s.emitterEventListeners[eventName]=[]),s.emitterEventListeners[eventName].push(handler),s},s.off=function(eventName,handler){var i;if(eventName=normalizeEventName(eventName),"undefined"==typeof handler)return s.emitterEventListeners[eventName]=[],s;if(s.emitterEventListeners[eventName]&&0!==s.emitterEventListeners[eventName].length){for(i=0;i<s.emitterEventListeners[eventName].length;i++)s.emitterEventListeners[eventName][i]===handler&&s.emitterEventListeners[eventName].splice(i,1);return s}},s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),s.off(eventName,_handler)};return s.on(eventName,_handler),s},s.a11y={makeFocusable:function($el){return $el[0].tabIndex="0",$el},addRole:function($el,role){return $el.attr("role",role),$el},addLabel:function($el,label){return $el.attr("aria-label",label),$el},disable:function($el){return $el.attr("aria-disabled",!0),$el},enable:function($el){return $el.attr("aria-disabled",!1),$el},onEnterKey:function(event){13===event.keyCode&&($(event.target).is(s.params.nextButton)?(s.onClickNext(event),s.isEnd?s.a11y.notify(s.params.lastSlideMsg):s.a11y.notify(s.params.nextSlideMsg)):$(event.target).is(s.params.prevButton)&&(s.onClickPrev(event),s.isBeginning?s.a11y.notify(s.params.firstSlideMsg):s.a11y.notify(s.params.prevSlideMsg)))},liveRegion:$('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(message){var notification=s.a11y.liveRegion;0!==notification.length&&(notification.html(""),notification.html(message))},init:function(){if(s.params.nextButton){var nextButton=$(s.params.nextButton);s.a11y.makeFocusable(nextButton),s.a11y.addRole(nextButton,"button"),s.a11y.addLabel(nextButton,s.params.nextSlideMsg)}if(s.params.prevButton){var prevButton=$(s.params.prevButton);s.a11y.makeFocusable(prevButton),s.a11y.addRole(prevButton,"button"),s.a11y.addLabel(prevButton,s.params.prevSlideMsg)}$(s.container).append(s.a11y.liveRegion)},destroy:function(){s.a11y.liveRegion&&s.a11y.liveRegion.length>0&&s.a11y.liveRegion.remove()}},s.init=function(){s.params.loop&&s.createLoop(),s.updateContainerSize(),s.updateSlidesSize(),s.updatePagination(),s.params.scrollbar&&s.scrollbar&&s.scrollbar.set(),"slide"!==s.params.effect&&s.effects[s.params.effect]&&(s.params.loop||s.updateProgress(),s.effects[s.params.effect].setTranslate()),s.params.loop?s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit):(s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit),0===s.params.initialSlide&&(s.parallax&&s.params.parallax&&s.parallax.setTranslate(),s.lazy&&s.params.lazyLoading&&s.lazy.load())),s.attachEvents(),s.params.observer&&s.support.observer&&s.initObservers(),s.params.preloadImages&&!s.params.lazyLoading&&s.preloadImages(),s.params.autoplay&&s.startAutoplay(),s.params.keyboardControl&&s.enableKeyboardControl&&s.enableKeyboardControl(),s.params.mousewheelControl&&s.enableMousewheelControl&&s.enableMousewheelControl(),s.params.hashnav&&s.hashnav&&s.hashnav.init(),s.params.a11y&&s.a11y&&s.a11y.init(),s.emit("onInit",s)},s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(" ")).removeAttr("style"),s.wrapper.removeAttr("style"),s.slides&&s.slides.length&&s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),s.paginationContainer&&s.paginationContainer.length&&s.paginationContainer.removeClass(s.params.paginationHiddenClass),s.bullets&&s.bullets.length&&s.bullets.removeClass(s.params.bulletActiveClass),s.params.prevButton&&$(s.params.prevButton).removeClass(s.params.buttonDisabledClass),s.params.nextButton&&$(s.params.nextButton).removeClass(s.params.buttonDisabledClass),s.params.scrollbar&&s.scrollbar&&(s.scrollbar.track&&s.scrollbar.track.length&&s.scrollbar.track.removeAttr("style"),s.scrollbar.drag&&s.scrollbar.drag.length&&s.scrollbar.drag.removeAttr("style"))},s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents(),s.stopAutoplay(),s.params.loop&&s.destroyLoop(),cleanupStyles&&s.cleanupStyles(),s.disconnectObservers(),s.params.keyboardControl&&s.disableKeyboardControl&&s.disableKeyboardControl(),s.params.mousewheelControl&&s.disableMousewheelControl&&s.disableMousewheelControl(),s.params.a11y&&s.a11y&&s.a11y.destroy(),s.emit("onDestroy"),deleteInstance!==!1&&(s=null)},s.init(),s}};Swiper.prototype={defaults:{direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},isSafari:function(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("safari")>=0&&ua.indexOf("chrome")<0&&ua.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return"[object Array]"===Object.prototype.toString.apply(arr)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var ua=navigator.userAgent,android=ua.match(/(Android);?[\s\/]+([\d.]+)?/),ipad=ua.match(/(iPad).*OS\s([\d_]+)/),iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipad,android:android}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var div=document.createElement("div").style;return"webkitPerspective"in div||"MozPerspective"in div||"OPerspective"in div||"MsPerspective"in div||"perspective"in div}(),flexbox:function(){for(var div=document.createElement("div").style,styles="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<styles.length;i++)if(styles[i]in div)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}},$.Swiper=Swiper}(Zepto),+function($){"use strict";$.Swiper.prototype.defaults.pagination=".swiper-pagination",$.swiper=function(container,params){return new $.Swiper(container,params)},$.fn.swiper=function(params){return new $.Swiper(this,params)},$.initSwiper=function(pageContainer){function destroySwiperOnRemove(slider){function destroySwiper(){slider.destroy(),page.off("pageBeforeRemove",destroySwiper)}page.on("pageBeforeRemove",destroySwiper)}var page=$(pageContainer||document.body),swipers=page.find(".swiper-container");if(0!==swipers.length)for(var i=0;i<swipers.length;i++){var params,swiper=swipers.eq(i);if(swiper.data("swiper"))swiper.data("swiper").update(!0);else{params=swiper.dataset();var _slider=$.swiper(swiper[0],params);destroySwiperOnRemove(_slider)}}},$.reinitSwiper=function(pageContainer){var page=$(pageContainer),sliders=page.find(".swiper-container");if(0!==sliders.length)for(var i=0;i<sliders.length;i++){var sliderInstance=sliders[0].swiper;sliderInstance&&sliderInstance.update(!0)}}}(Zepto),+function($){"use strict";var PhotoBrowser=function(params){var i,pb=this,defaults=this.defaults;params=params||{};for(var def in defaults)"undefined"==typeof params[def]&&(params[def]=defaults[def]);pb.params=params;var navbarTemplate=pb.params.navbarTemplate||'<header class="bar bar-nav"><a class="icon icon-left pull-left photo-browser-close-link'+("popup"===pb.params.type?" close-popup":"")+'"></a><h1 class="title"><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+pb.params.ofText+'</span> <span class="photo-browser-total"></span></div></h1></header>',toolbarTemplate=pb.params.toolbarTemplate||'<nav class="bar bar-tab"><a class="tab-item photo-browser-prev" href="#"><i class="icon icon-prev"></i></a><a class="tab-item photo-browser-next" href="#"><i class="icon icon-next"></i></a></nav>',template=pb.params.template||'<div class="photo-browser photo-browser-'+pb.params.theme+'">{{navbar}}{{toolbar}}<div data-page="photo-browser-slides" class="content">{{captions}}<div class="photo-browser-swiper-container swiper-container"><div class="photo-browser-swiper-wrapper swiper-wrapper">{{photos}}</div></div></div></div>',photoTemplate=pb.params.lazyLoading?pb.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy swiper-slide"><div class="preloader'+("dark"===pb.params.theme?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}" class="swiper-lazy"></span></div>':pb.params.photoTemplate||'<div class="photo-browser-slide swiper-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',captionsTheme=pb.params.captionsTheme||pb.params.theme,captionsTemplate=pb.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+captionsTheme+'">{{captions}}</div>',captionTemplate=pb.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',objectTemplate=pb.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide swiper-slide">{{html}}</div>',photosHtml="",captionsHtml="";for(i=0;i<pb.params.photos.length;i++){var photo=pb.params.photos[i],thisTemplate="";"string"==typeof photo||photo instanceof String?thisTemplate=photo.indexOf("<")>=0||photo.indexOf(">")>=0?objectTemplate.replace(/{{html}}/g,photo):photoTemplate.replace(/{{url}}/g,photo):"object"==typeof photo&&(photo.hasOwnProperty("html")&&photo.html.length>0?thisTemplate=objectTemplate.replace(/{{html}}/g,photo.html):photo.hasOwnProperty("url")&&photo.url.length>0&&(thisTemplate=photoTemplate.replace(/{{url}}/g,photo.url)),photo.hasOwnProperty("caption")&&photo.caption.length>0?captionsHtml+=captionTemplate.replace(/{{caption}}/g,photo.caption).replace(/{{captionIndex}}/g,i):thisTemplate=thisTemplate.replace(/{{caption}}/g,"")),photosHtml+=thisTemplate}var htmlTemplate=template.replace("{{navbar}}",pb.params.navbar?navbarTemplate:"").replace("{{noNavbar}}",pb.params.navbar?"":"no-navbar").replace("{{photos}}",photosHtml).replace("{{captions}}",captionsTemplate.replace(/{{captions}}/g,captionsHtml)).replace("{{toolbar}}",pb.params.toolbar?toolbarTemplate:"");pb.activeIndex=pb.params.initialSlide,pb.openIndex=pb.activeIndex,pb.opened=!1,pb.open=function(index){return"undefined"==typeof index&&(index=pb.activeIndex),index=parseInt(index,10),pb.opened&&pb.swiper?void pb.swiper.slideTo(index):(pb.opened=!0,pb.openIndex=index,"standalone"===pb.params.type&&$(pb.params.container).append(htmlTemplate),"popup"===pb.params.type&&(pb.popup=$.popup('<div class="popup photo-browser-popup">'+htmlTemplate+"</div>"),$(pb.popup).on("closed",pb.onPopupClose)),"page"===pb.params.type?($(document).on("pageBeforeInit",pb.onPageBeforeInit),$(document).on("pageBeforeRemove",pb.onPageBeforeRemove),pb.params.view||(pb.params.view=$.mainView),void pb.params.view.loadContent(htmlTemplate)):(pb.layout(pb.openIndex),void(pb.params.onOpen&&pb.params.onOpen(pb))))},pb.close=function(){pb.opened=!1,pb.swiperContainer&&0!==pb.swiperContainer.length&&(pb.params.onClose&&pb.params.onClose(pb),pb.attachEvents(!0),"standalone"===pb.params.type&&pb.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){pb.container.remove()}),pb.swiper.destroy(),pb.swiper=pb.swiperContainer=pb.swiperWrapper=pb.slides=gestureSlide=gestureImg=gestureImgWrap=void 0)},pb.onPopupClose=function(){pb.close(),$(pb.popup).off("pageBeforeInit",pb.onPopupClose)},pb.onPageBeforeInit=function(e){"photo-browser-slides"===e.detail.page.name&&pb.layout(pb.openIndex),$(document).off("pageBeforeInit",pb.onPageBeforeInit)},pb.onPageBeforeRemove=function(e){"photo-browser-slides"===e.detail.page.name&&pb.close(),
$(document).off("pageBeforeRemove",pb.onPageBeforeRemove)},pb.onSliderTransitionStart=function(swiper){pb.activeIndex=swiper.activeIndex;var current=swiper.activeIndex+1,total=swiper.slides.length;if(pb.params.loop&&(total-=2,current-=swiper.loopedSlides,1>current&&(current=total+current),current>total&&(current-=total)),pb.container.find(".photo-browser-current").text(current),pb.container.find(".photo-browser-total").text(total),$(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),swiper.isBeginning&&!pb.params.loop&&$(".photo-browser-prev").addClass("photo-browser-link-inactive"),swiper.isEnd&&!pb.params.loop&&$(".photo-browser-next").addClass("photo-browser-link-inactive"),pb.captions.length>0){pb.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var captionIndex=pb.params.loop?swiper.slides.eq(swiper.activeIndex).attr("data-swiper-slide-index"):pb.activeIndex;pb.captionsContainer.find('[data-caption-index="'+captionIndex+'"]').addClass("photo-browser-caption-active")}var previousSlideVideo=swiper.slides.eq(swiper.previousIndex).find("video");previousSlideVideo.length>0&&"pause"in previousSlideVideo[0]&&previousSlideVideo[0].pause(),pb.params.onSlideChangeStart&&pb.params.onSlideChangeStart(swiper)},pb.onSliderTransitionEnd=function(swiper){pb.params.zoom&&gestureSlide&&swiper.previousIndex!==swiper.activeIndex&&(gestureImg.transform("translate3d(0,0,0) scale(1)"),gestureImgWrap.transform("translate3d(0,0,0)"),gestureSlide=gestureImg=gestureImgWrap=void 0,scale=currentScale=1),pb.params.onSlideChangeEnd&&pb.params.onSlideChangeEnd(swiper)},pb.layout=function(index){"page"===pb.params.type?pb.container=$(".photo-browser-swiper-container").parents(".view"):pb.container=$(".photo-browser"),"standalone"===pb.params.type&&pb.container.addClass("photo-browser-in"),pb.swiperContainer=pb.container.find(".photo-browser-swiper-container"),pb.swiperWrapper=pb.container.find(".photo-browser-swiper-wrapper"),pb.slides=pb.container.find(".photo-browser-slide"),pb.captionsContainer=pb.container.find(".photo-browser-captions"),pb.captions=pb.container.find(".photo-browser-caption");var sliderSettings={nextButton:pb.params.nextButton||".photo-browser-next",prevButton:pb.params.prevButton||".photo-browser-prev",indexButton:pb.params.indexButton,initialSlide:index,spaceBetween:pb.params.spaceBetween,speed:pb.params.speed,loop:pb.params.loop,lazyLoading:pb.params.lazyLoading,lazyLoadingInPrevNext:pb.params.lazyLoadingInPrevNext,lazyLoadingOnTransitionStart:pb.params.lazyLoadingOnTransitionStart,preloadImages:pb.params.lazyLoading?!1:!0,onTap:function(swiper,e){pb.params.onTap&&pb.params.onTap(swiper,e)},onClick:function(swiper,e){pb.params.exposition&&pb.toggleExposition(),pb.params.onClick&&pb.params.onClick(swiper,e)},onDoubleTap:function(swiper,e){pb.toggleZoom($(e.target).parents(".photo-browser-slide")),pb.params.onDoubleTap&&pb.params.onDoubleTap(swiper,e)},onTransitionStart:function(swiper){pb.onSliderTransitionStart(swiper)},onTransitionEnd:function(swiper){pb.onSliderTransitionEnd(swiper)},onLazyImageLoad:function(swiper,slide,img){pb.params.onLazyImageLoad&&pb.params.onLazyImageLoad(pb,slide,img)},onLazyImageReady:function(swiper,slide,img){$(slide).removeClass("photo-browser-slide-lazy"),pb.params.onLazyImageReady&&pb.params.onLazyImageReady(pb,slide,img)}};pb.params.swipeToClose&&"page"!==pb.params.type&&(sliderSettings.onTouchStart=pb.swipeCloseTouchStart,sliderSettings.onTouchMoveOpposite=pb.swipeCloseTouchMove,sliderSettings.onTouchEnd=pb.swipeCloseTouchEnd),pb.swiper=$.swiper(pb.swiperContainer,sliderSettings),0===index&&pb.onSliderTransitionStart(pb.swiper),pb.attachEvents()},pb.attachEvents=function(detach){var action=detach?"off":"on";if(pb.params.zoom){var target=pb.params.loop?pb.swiper.slides:pb.slides;target[action]("gesturestart",pb.onSlideGestureStart),target[action]("gesturechange",pb.onSlideGestureChange),target[action]("gestureend",pb.onSlideGestureEnd),target[action]("touchstart",pb.onSlideTouchStart),target[action]("touchmove",pb.onSlideTouchMove),target[action]("touchend",pb.onSlideTouchEnd)}pb.container.find(".photo-browser-close-link")[action]("click",pb.close)},pb.exposed=!1,pb.toggleExposition=function(){pb.container&&pb.container.toggleClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.toggleClass("photo-browser-captions-exposed"),pb.exposed=!pb.exposed},pb.enableExposition=function(){pb.container&&pb.container.addClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.addClass("photo-browser-captions-exposed"),pb.exposed=!0},pb.disableExposition=function(){pb.container&&pb.container.removeClass("photo-browser-exposed"),pb.params.expositionHideCaptions&&pb.captionsContainer.removeClass("photo-browser-captions-exposed"),pb.exposed=!1};var gestureSlide,gestureImg,gestureImgWrap,scale=1,currentScale=1,isScaling=!1;pb.onSlideGestureStart=function(){return gestureSlide||(gestureSlide=$(this),gestureImg=gestureSlide.find("img, svg, canvas"),gestureImgWrap=gestureImg.parent(".photo-browser-zoom-container"),0!==gestureImgWrap.length)?(gestureImg.transition(0),void(isScaling=!0)):void(gestureImg=void 0)},pb.onSlideGestureChange=function(e){gestureImg&&0!==gestureImg.length&&(scale=e.scale*currentScale,scale>pb.params.maxZoom&&(scale=pb.params.maxZoom-1+Math.pow(scale-pb.params.maxZoom+1,.5)),scale<pb.params.minZoom&&(scale=pb.params.minZoom+1-Math.pow(pb.params.minZoom-scale+1,.5)),gestureImg.transform("translate3d(0,0,0) scale("+scale+")"))},pb.onSlideGestureEnd=function(){gestureImg&&0!==gestureImg.length&&(scale=Math.max(Math.min(scale,pb.params.maxZoom),pb.params.minZoom),gestureImg.transition(pb.params.speed).transform("translate3d(0,0,0) scale("+scale+")"),currentScale=scale,isScaling=!1,1===scale&&(gestureSlide=void 0))},pb.toggleZoom=function(){gestureSlide||(gestureSlide=pb.swiper.slides.eq(pb.swiper.activeIndex),gestureImg=gestureSlide.find("img, svg, canvas"),gestureImgWrap=gestureImg.parent(".photo-browser-zoom-container")),gestureImg&&0!==gestureImg.length&&(gestureImgWrap.transition(300).transform("translate3d(0,0,0)"),scale&&1!==scale?(scale=currentScale=1,gestureImg.transition(300).transform("translate3d(0,0,0) scale(1)"),gestureSlide=void 0):(scale=currentScale=pb.params.maxZoom,gestureImg.transition(300).transform("translate3d(0,0,0) scale("+scale+")")))};var imageIsTouched,imageIsMoved,imageCurrentX,imageCurrentY,imageMinX,imageMinY,imageMaxX,imageMaxY,imageWidth,imageHeight,imageStartX,imageStartY,velocityPrevPositionX,velocityPrevTime,velocityX,velocityPrevPositionY,velocityY,imageTouchesStart={},imageTouchesCurrent={};pb.onSlideTouchStart=function(e){gestureImg&&0!==gestureImg.length&&(imageIsTouched||("android"===$.device.os&&e.preventDefault(),imageIsTouched=!0,imageTouchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,imageTouchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},pb.onSlideTouchMove=function(e){if(gestureImg&&0!==gestureImg.length&&(pb.swiper.allowClick=!1,imageIsTouched&&gestureSlide)){imageIsMoved||(imageWidth=gestureImg[0].offsetWidth,imageHeight=gestureImg[0].offsetHeight,imageStartX=$.getTranslate(gestureImgWrap[0],"x")||0,imageStartY=$.getTranslate(gestureImgWrap[0],"y")||0,gestureImgWrap.transition(0));var scaledWidth=imageWidth*scale,scaledHeight=imageHeight*scale;if(!(scaledWidth<pb.swiper.width&&scaledHeight<pb.swiper.height)){if(imageMinX=Math.min(pb.swiper.width/2-scaledWidth/2,0),imageMaxX=-imageMinX,imageMinY=Math.min(pb.swiper.height/2-scaledHeight/2,0),imageMaxY=-imageMinY,imageTouchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,imageTouchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!imageIsMoved&&!isScaling&&(Math.floor(imageMinX)===Math.floor(imageStartX)&&imageTouchesCurrent.x<imageTouchesStart.x||Math.floor(imageMaxX)===Math.floor(imageStartX)&&imageTouchesCurrent.x>imageTouchesStart.x))return void(imageIsTouched=!1);e.preventDefault(),e.stopPropagation(),imageIsMoved=!0,imageCurrentX=imageTouchesCurrent.x-imageTouchesStart.x+imageStartX,imageCurrentY=imageTouchesCurrent.y-imageTouchesStart.y+imageStartY,imageMinX>imageCurrentX&&(imageCurrentX=imageMinX+1-Math.pow(imageMinX-imageCurrentX+1,.8)),imageCurrentX>imageMaxX&&(imageCurrentX=imageMaxX-1+Math.pow(imageCurrentX-imageMaxX+1,.8)),imageMinY>imageCurrentY&&(imageCurrentY=imageMinY+1-Math.pow(imageMinY-imageCurrentY+1,.8)),imageCurrentY>imageMaxY&&(imageCurrentY=imageMaxY-1+Math.pow(imageCurrentY-imageMaxY+1,.8)),velocityPrevPositionX||(velocityPrevPositionX=imageTouchesCurrent.x),velocityPrevPositionY||(velocityPrevPositionY=imageTouchesCurrent.y),velocityPrevTime||(velocityPrevTime=Date.now()),velocityX=(imageTouchesCurrent.x-velocityPrevPositionX)/(Date.now()-velocityPrevTime)/2,velocityY=(imageTouchesCurrent.y-velocityPrevPositionY)/(Date.now()-velocityPrevTime)/2,Math.abs(imageTouchesCurrent.x-velocityPrevPositionX)<2&&(velocityX=0),Math.abs(imageTouchesCurrent.y-velocityPrevPositionY)<2&&(velocityY=0),velocityPrevPositionX=imageTouchesCurrent.x,velocityPrevPositionY=imageTouchesCurrent.y,velocityPrevTime=Date.now(),gestureImgWrap.transform("translate3d("+imageCurrentX+"px, "+imageCurrentY+"px,0)")}}},pb.onSlideTouchEnd=function(){if(gestureImg&&0!==gestureImg.length){if(!imageIsTouched||!imageIsMoved)return imageIsTouched=!1,void(imageIsMoved=!1);imageIsTouched=!1,imageIsMoved=!1;var momentumDurationX=300,momentumDurationY=300,momentumDistanceX=velocityX*momentumDurationX,newPositionX=imageCurrentX+momentumDistanceX,momentumDistanceY=velocityY*momentumDurationY,newPositionY=imageCurrentY+momentumDistanceY;0!==velocityX&&(momentumDurationX=Math.abs((newPositionX-imageCurrentX)/velocityX)),0!==velocityY&&(momentumDurationY=Math.abs((newPositionY-imageCurrentY)/velocityY));var momentumDuration=Math.max(momentumDurationX,momentumDurationY);imageCurrentX=newPositionX,imageCurrentY=newPositionY;var scaledWidth=imageWidth*scale,scaledHeight=imageHeight*scale;imageMinX=Math.min(pb.swiper.width/2-scaledWidth/2,0),imageMaxX=-imageMinX,imageMinY=Math.min(pb.swiper.height/2-scaledHeight/2,0),imageMaxY=-imageMinY,imageCurrentX=Math.max(Math.min(imageCurrentX,imageMaxX),imageMinX),imageCurrentY=Math.max(Math.min(imageCurrentY,imageMaxY),imageMinY),gestureImgWrap.transition(momentumDuration).transform("translate3d("+imageCurrentX+"px, "+imageCurrentY+"px,0)")}};var swipeToCloseDiff,swipeToCloseStart,swipeToCloseCurrent,swipeToCloseActiveSlide,swipeToCloseTimeStart,swipeToCloseIsTouched=!1,allowSwipeToClose=!0,swipeToCloseStarted=!1;return pb.swipeCloseTouchStart=function(){allowSwipeToClose&&(swipeToCloseIsTouched=!0)},pb.swipeCloseTouchMove=function(swiper,e){if(swipeToCloseIsTouched){swipeToCloseStarted||(swipeToCloseStarted=!0,swipeToCloseStart="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,swipeToCloseActiveSlide=pb.swiper.slides.eq(pb.swiper.activeIndex),swipeToCloseTimeStart=(new Date).getTime()),e.preventDefault(),swipeToCloseCurrent="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,swipeToCloseDiff=swipeToCloseStart-swipeToCloseCurrent;var opacity=1-Math.abs(swipeToCloseDiff)/300;swipeToCloseActiveSlide.transform("translate3d(0,"+-swipeToCloseDiff+"px,0)"),pb.swiper.container.css("opacity",opacity).transition(0)}},pb.swipeCloseTouchEnd=function(){if(swipeToCloseIsTouched=!1,!swipeToCloseStarted)return void(swipeToCloseStarted=!1);swipeToCloseStarted=!1,allowSwipeToClose=!1;var diff=Math.abs(swipeToCloseDiff),timeDiff=(new Date).getTime()-swipeToCloseTimeStart;return 300>timeDiff&&diff>20||timeDiff>=300&&diff>100?void setTimeout(function(){"standalone"===pb.params.type&&pb.close(),"popup"===pb.params.type&&$.closeModal(pb.popup),pb.params.onSwipeToClose&&pb.params.onSwipeToClose(pb),allowSwipeToClose=!0},0):(0!==diff?swipeToCloseActiveSlide.addClass("transitioning").transitionEnd(function(){allowSwipeToClose=!0,swipeToCloseActiveSlide.removeClass("transitioning")}):allowSwipeToClose=!0,pb.swiper.container.css("opacity","").transition(""),void swipeToCloseActiveSlide.transform(""))},pb};PhotoBrowser.prototype={defaults:{photos:[],container:"body",initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1}},$.photoBrowser=function(params){return $.extend(params,$.photoBrowser.prototype.defaults),new PhotoBrowser(params)},$.photoBrowser.prototype={defaults:{}}}(Zepto)});